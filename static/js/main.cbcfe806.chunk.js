(this["webpackJsonptodos-app"]=this["webpackJsonptodos-app"]||[]).push([[0],{40:function(t,e,a){"use strict";a.r(e);var n=a(2),r=a(0),s=a(18),c=a.n(s),i=a(9),l=a(8),o=a(20),d="ADD_TASK",u="FETCH_TASK_BY_ID",b="EDIT_TASK",j="DELETE_TASK",m="FETCH_ALL";var p=function(){var t=Object(i.b)(),e=Object(o.a)(),a=e.register,r=e.handleSubmit;return Object(n.jsxs)("form",{className:"mb-5",onSubmit:r((function(e){var a={title:e.title,description:e.description};t({type:d,payload:a})})),children:[Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",htmlFor:"title",children:"Add task's title:"}),Object(n.jsx)("input",{name:"title",className:"form-control",type:"text",ref:a})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label",htmlFor:"description",children:"Add task's description:"}),Object(n.jsx)("textarea",{name:"description",className:"form-control",ref:a,rows:3})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",value:"Submit",children:"Submit"})]})},O=a(43),f=a(44),x=a(45),h=function(){var t=Object(i.b)(),e=Object(o.a)(),a=e.register,r=e.handleSubmit,s=Object(i.c)((function(t){return t.task})),c={task:s}.task;return Object(n.jsxs)("form",{onSubmit:r((function(e){e.id=null===s||void 0===s?void 0:s.id,e.creationDate=null===s||void 0===s?void 0:s.creationDate,t(function(t){return{type:b,payload:Object(l.a)({},t)}}(e))})),children:[Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label fw-normal fs-6",htmlFor:"title",children:"Edit task's title:"}),Object(n.jsx)("input",{name:"title",className:"form-control",type:"text",ref:a,defaultValue:null===c||void 0===c?void 0:c.title})]}),Object(n.jsxs)("div",{className:"mb-3",children:[Object(n.jsx)("label",{className:"form-label fw-normal fs-6",htmlFor:"description",children:"Edit task's description:"}),Object(n.jsx)("textarea",{name:"description",className:"form-control",ref:a,rows:3,defaultValue:null===c||void 0===c?void 0:c.description})]}),Object(n.jsxs)("div",{className:"modal-footer border-top-0 p-0",children:[Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",value:"Submit",children:"Submit"}),Object(n.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})]})]})},v=function(){return Object(n.jsx)("div",{className:"modal fade",id:"editTaskModal",tabIndex:-1,"aria-labelledby":"editTaskModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{className:"modal-dialog",children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsx)("h5",{className:"modal-title",children:"Modal title"}),Object(n.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(n.jsx)("div",{className:"modal-body",children:Object(n.jsx)(h,{})})]})})})},y=function(t){var e=Object(i.b)();return Object(n.jsx)("div",{className:"card mb-3",children:Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsxs)("h5",{className:"card-title d-flex justify-content-between align-items-center",children:[t.title,Object(n.jsxs)("div",{className:"btn-group d-flex align-items-center",role:"group",children:[Object(n.jsx)("button",{type:"button",title:"Edit task","aria-label":"Edit",className:"btn btn-outline-secondary d-flex align-items-center","data-bs-toggle":"modal","data-bs-target":"#editTaskModal",onClick:function(){var a;e((a=t.id,{type:u,payload:a}))},children:Object(n.jsx)(O.a,{size:20})}),Object(n.jsx)(v,{}),Object(n.jsx)("button",{type:"button",title:"Delete task","aria-label":"Delete task",className:"btn btn-outline-secondary d-flex align-items-center",onClick:function(){var a;e((a=t.id,{type:j,payload:a}))},children:Object(n.jsx)(f.a,{size:20})})]})]}),Object(n.jsx)("p",{className:"card-text",children:t.description}),Object(n.jsxs)("p",{className:"card-text",children:["Created:",Object(x.a)(t.creationDate,"PPp")]})]})})},N=function(t){var e=(t.tasks||[]).map((function(t){return Object(n.jsx)("div",{className:"col-4",children:Object(n.jsx)(y,Object(l.a)({},t))},t.id)}));return Object(n.jsx)("div",{className:"row",children:e})},k=function(){var t=Object(i.b)(),e={tasks:Object(i.c)((function(t){return t.tasks}))};return Object(r.useEffect)((function(){t({type:m})}),[t]),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)("h1",{className:"mt-3 text-center",children:"To Do List"}),Object(n.jsx)(p,{}),Object(n.jsx)(N,Object(l.a)({},e))]})},_=a(15),S=a(26),T=a(6),E={tasks:[]},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FETCH_ALL_ASYNC":return e.payload?{tasks:e.payload}:{tasks:[]};case"ADD_TASK_ASYNC":return t.tasks?{tasks:[].concat(Object(T.a)(t.tasks),[e.payload])}:{tasks:[e.payload]};case"FETCH_TASK_BY_ID":return{tasks:t.tasks};case"FETCH_TASK_BY_ID_ASYNC":return t.tasks?Object(l.a)(Object(l.a)({},t),{},{task:e.payload}):Object(l.a)({},t);case"EDIT_TASK_ASYNC":if(t.tasks){var a=t.tasks.map((function(t){return t.id===e.payload.id&&(t.title=e.payload.title,t.description=e.payload.description),t}));return{tasks:Object(T.a)(a)}}return Object(l.a)({},t);case"DELETE_TASK_ASYNC":if(t.tasks){var n=t.tasks.filter((function(t){return t.id!==e.payload.id}));return{tasks:Object(T.a)(n)}}return Object(l.a)({},t);default:return t}},w=a(5),D=a.n(w),C=a(12),g=a(13),Y=D.a.mark(q),I=D.a.mark(G),K=D.a.mark(Q),L=D.a.mark(W),F=D.a.mark(Z),H=D.a.mark($);function M(t){return B.apply(this,arguments)}function B(){return(B=Object(C.a)(D.a.mark((function t(e){var a,n=arguments;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:300,t.abrupt("return",new Promise((function(t){setTimeout((function(){t(e)}),a)})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var J="tasks",V=function(){var t=localStorage.getItem(J);return t?JSON.parse(t):[]},X=function(t){localStorage.setItem(J,JSON.stringify(t))},P=function(t){var e=V(),a=e.length?Math.max.apply(Math,Object(T.a)(e.map((function(t){return t.id||0})))):0,n=Object(l.a)(Object(l.a)({},t),{},{id:a+1,creationDate:Number(new Date)});return e.push(n),X(e),n},z=function(t){return V().find((function(e){return e.id===t}))},R=function(t){var e=V().map((function(e){return e.id===t.id&&(e.title=t.title,e.description=t.description),e}));return X(e),t},U=function(t){var e=V(),a=e.find((function(e){return e.id===t}))||null,n=e.filter((function(e){return e.id!==t}));return X(n),a};function q(){var t,e;return D.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=V(),a.next=3,M(t);case 3:return e=a.sent,a.next=6,Object(g.a)({type:"FETCH_ALL_ASYNC",payload:e});case 6:case"end":return a.stop()}}),Y)}function G(t){var e,a;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=P(t.payload),n.next=3,M(e);case 3:return a=n.sent,n.next=6,Object(g.a)({type:"ADD_TASK_ASYNC",payload:a});case 6:case"end":return n.stop()}}),I)}function Q(t){var e,a;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=R(t.payload),n.next=3,M(e);case 3:return a=n.sent,n.next=6,Object(g.a)({type:"EDIT_TASK_ASYNC",payload:a});case 6:case"end":return n.stop()}}),K)}function W(t){var e,a;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=z(t.payload),n.next=3,M(e);case 3:return a=n.sent,n.next=6,Object(g.a)({type:"FETCH_TASK_BY_ID_ASYNC",payload:a});case 6:case"end":return n.stop()}}),L)}function Z(t){var e,a;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=U(t.payload),n.next=3,M(e);case 3:return a=n.sent,n.next=6,Object(g.a)({type:"DELETE_TASK_ASYNC",payload:a});case 6:case"end":return n.stop()}}),F)}function $(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.b)(m,q);case 2:return t.next=4,Object(g.b)(u,W);case 4:return t.next=6,Object(g.b)(d,G);case 6:return t.next=8,Object(g.b)(b,Q);case 8:return t.next=10,Object(g.b)(j,Z);case 10:case"end":return t.stop()}}),H)}var tt=Object(S.a)(),et={tasks:[]},at=Object(_.d)(A,et,Object(_.c)(Object(_.a)(tt),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));tt.run($);var nt=at;c.a.render(Object(n.jsx)(i.a,{store:nt,children:Object(n.jsx)(k,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.cbcfe806.chunk.js.map